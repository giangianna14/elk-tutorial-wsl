#!/bin/bash

echo "===== ğŸ“Š Perbandingan ELK Stack v7 vs v8 ====="
echo ""

echo "ğŸ” ELASTICSEARCH:"
echo "  v7.17.28:"
echo "    â€¢ Security: Optional (disabled by default)"
echo "    â€¢ Memory: 512MB default untuk WSL"
echo "    â€¢ Discovery: single-node"
echo "    â€¢ API: Legacy REST API"
echo ""
echo "  v8.15.0:"
echo "    â€¢ Security: Built-in tapi disabled untuk dev"
echo "    â€¢ Memory: 1GB (recommended untuk v8)"
echo "    â€¢ Discovery: single-node dengan modern config"
echo "    â€¢ API: Modern REST API dengan better error handling"
echo ""

echo "ğŸ“Š KIBANA:"
echo "  v7.17.28:"
echo "    â€¢ UI: Classic Kibana interface"
echo "    â€¢ Saved Objects: Basic encryption"
echo "    â€¢ Performance: Good"
echo ""
echo "  v8.15.0:"
echo "    â€¢ UI: Modern, responsive interface"
echo "    â€¢ Saved Objects: Enhanced encryption"
echo "    â€¢ Performance: Improved rendering & caching"
echo "    â€¢ Features: Better lens, canvas, ML integration"
echo ""

echo "ğŸ”„ LOGSTASH:"
echo "  v7.17.28:"
echo "    â€¢ Memory: 512MB JVM heap"
echo "    â€¢ Pipeline: Basic configuration"
echo "    â€¢ Monitoring: Standard"
echo ""
echo "  v8.15.0:"
echo "    â€¢ Memory: 512MB JVM heap (same)"
echo "    â€¢ Pipeline: Enhanced with better error handling"
echo "    â€¢ Monitoring: Improved metrics & debugging"
echo "    â€¢ Performance: Better memory management"
echo ""

echo "ğŸ“ˆ BEATS AGENTS:"
echo "  v7.17.28:"
echo "    â€¢ Filebeat: Basic log shipping"
echo "    â€¢ Metricbeat: System metrics"
echo "    â€¢ Heartbeat: Basic uptime monitoring"
echo "    â€¢ APM: Separate installation"
echo ""
echo "  v8.15.0:"
echo "    â€¢ Filebeat: Enhanced parsing & modules"
echo "    â€¢ Metricbeat: Extended metrics coverage"
echo "    â€¢ Heartbeat: Advanced synthetic monitoring"
echo "    â€¢ APM: Integrated dengan better tracing"
echo "    â€¢ Fleet: Centralized agent management"
echo ""

echo "ğŸ” SECURITY:"
echo "  v7.17.28:"
echo "    â€¢ Basic security (optional)"
echo "    â€¢ Manual SSL setup"
echo "    â€¢ Simple authentication"
echo ""
echo "  v8.15.0:"
echo "    â€¢ Security by default (disabled untuk dev)"
echo "    â€¢ Auto SSL certificate generation"
echo "    â€¢ Enhanced authentication & authorization"
echo "    â€¢ Better audit logging"
echo ""

echo "ğŸ’¡ REKOMENDASI PENGGUNAAN:"
echo ""
echo "ğŸ“š Gunakan v7.17.28 jika:"
echo "  â€¢ Tutorial/pembelajaran ELK basic"
echo "  â€¢ Resource terbatas (RAM < 4GB)"
echo "  â€¢ Kompatibilitas dengan sistem lama"
echo "  â€¢ Setup cepat tanpa security"
echo ""
echo "ğŸš€ Gunakan v8.15.0 jika:"
echo "  â€¢ Production environment"
echo "  â€¢ Resource memadai (RAM >= 4GB)"
echo "  â€¢ Butuh security features"
echo "  â€¢ Ingin fitur terbaru (ML, Fleet, dll)"
echo "  â€¢ Long-term project"
echo ""

echo "âš™ï¸  CARA MIGRASI v7 â†’ v8:"
echo "  1. Backup semua data dan konfigurasi"
echo "  2. Uninstall ELK v7 (gunakan uninstall_elk_wsl.sh)"
echo "  3. Install ELK v8 (gunakan install_elk_v8_latest_wsl.sh)"
echo "  4. Migrate konfigurasi dan data"
echo "  5. Test semua functionality"
echo ""

echo "ğŸ“Š PERFORMA COMPARISON (WSL Ubuntu):"
echo "â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "â”‚ Component       â”‚ v7.17.28     â”‚ v8.15.0      â”‚"
echo "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
echo "â”‚ Elasticsearch   â”‚ ~800MB RAM   â”‚ ~1.2GB RAM   â”‚"
echo "â”‚ Kibana          â”‚ ~200MB RAM   â”‚ ~300MB RAM   â”‚"
echo "â”‚ Logstash        â”‚ ~300MB RAM   â”‚ ~350MB RAM   â”‚"
echo "â”‚ Total RAM       â”‚ ~1.3GB       â”‚ ~1.85GB      â”‚"
echo "â”‚ Startup time    â”‚ ~90 seconds  â”‚ ~120 seconds â”‚"
echo "â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""

echo "ğŸ¯ KESIMPULAN:"
echo "  â€¢ v7: Lebih ringan, cocok untuk learning & development"
echo "  â€¢ v8: Lebih powerful, cocok untuk production & advanced features"
echo "  â€¢ Keduanya stabil dan supported oleh Elastic"
echo ""
